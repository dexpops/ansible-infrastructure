---

- name: "Create folder"
  become: true
  file:
    owner: root
    group: root
    mode: 0755
    state: directory
    path: "{{ netbox__install_dir }}"
  register: install_dir

- name: "Fetch Netbox Docker Repo version {{ netbox__version }}"
  when:
    - install_dir.changed
  become: true
  git:
    repo: "{{ netbox__git_url }}"
    dest: "{{ netbox__install_dir }}"
    version: "{{ netbox__version }}"